(function(){"use strict";var e={9304:function(e,r,n){var a=n(5130),t=n(6768);const o={id:"app"};function i(e,r,n,a,i,s){const c=(0,t.g2)("CameraScanner");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.bF)(c)])}var s=n(4232);const c={id:"app"},l={class:"toggle-mode"},d=["disabled"],u=["disabled"],m={id:"scanner",ref:"scannerContainer"},h={class:"modal-content"},p={id:"scanner",ref:"scannerContainer"},f={id:"output"},g={key:2,class:"error-message"},S=["disabled"],v=["disabled"];function b(e,r,n,o,i,b){return(0,t.uX)(),(0,t.CE)("div",c,[r[10]||(r[10]=(0,t.Lk)("header",null,[(0,t.Lk)("img",{src:"https://cdn.prod.website-files.com/65363d385688281ce5b016ec/65363d385688281ce5b016f5_Vectors-Wrapper.svg",alt:"Celfocus Logo"})],-1)),r[11]||(r[11]=(0,t.Lk)("h1",null,"Camera Test",-1)),(0,t.Lk)("div",l,[(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{type:"radio","onUpdate:modelValue":r[0]||(r[0]=e=>i.cameraMode=e),value:"inline",disabled:i.isScannerRunning},null,8,d),[[a.XL,i.cameraMode]]),r[7]||(r[7]=(0,t.eW)(" Inline "))]),(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{type:"radio","onUpdate:modelValue":r[1]||(r[1]=e=>i.cameraMode=e),value:"modal",disabled:i.isScannerRunning},null,8,u),[[a.XL,i.cameraMode]]),r[8]||(r[8]=(0,t.eW)(" Modal "))])]),"inline"===i.cameraMode?((0,t.uX)(),(0,t.CE)("div",{key:0,id:"camera-container",onClick:r[2]||(r[2]=(...e)=>b.toggleScanner&&b.toggleScanner(...e))},[(0,t.Lk)("div",m,null,512)])):(0,t.Q3)("",!0),"modal"===i.cameraMode&&i.showModal?((0,t.uX)(),(0,t.CE)("div",{key:1,class:"modal-overlay",onClick:r[4]||(r[4]=(0,a.D$)(((...e)=>b.stopScanner&&b.stopScanner(...e)),["self"]))},[(0,t.Lk)("div",h,[(0,t.Lk)("div",p,null,512),(0,t.Lk)("button",{class:"close-btn",onClick:r[3]||(r[3]=(...e)=>b.stopScanner&&b.stopScanner(...e))},"Close")])])):(0,t.Q3)("",!0),(0,t.Lk)("div",f,[r[9]||(r[9]=(0,t.eW)(" Scanned Result: ")),(0,t.Lk)("span",null,(0,s.v_)(i.scannedResult),1)]),i.errorMessage?((0,t.uX)(),(0,t.CE)("div",g,(0,s.v_)(i.errorMessage),1)):(0,t.Q3)("",!0),(0,t.Lk)("button",{onClick:r[5]||(r[5]=(...e)=>b.startScanner&&b.startScanner(...e)),disabled:i.isScannerRunning}," Start Scanner ",8,S),(0,t.Lk)("button",{onClick:r[6]||(r[6]=(...e)=>b.stopScanner&&b.stopScanner(...e)),disabled:!i.isScannerRunning}," Stop Scanner ",8,v)])}n(8111),n(7588);var k=n(1613),M=n.n(k),T={name:"CameraScanner",data(){return{isScannerRunning:!1,scannedResult:"None",cameraStream:null,errorMessage:"",errorTimer:null,cameraMode:"inline",showModal:!1}},methods:{showError(e){this.errorTimer&&clearTimeout(this.errorTimer),this.errorMessage=e,this.errorTimer=setTimeout((()=>{this.errorMessage="",this.errorTimer=null}),5e3)},initScanner(){this.errorTimer&&(clearTimeout(this.errorTimer),this.errorTimer=null),this.errorMessage="",M().init({inputStream:{type:"LiveStream",target:this.$refs.scannerContainer,constraints:{facingMode:"environment"}},decoder:{readers:["code_128_reader","ean_reader","ean_8_reader","code_39_reader"]}},(e=>{if(e)return console.error("QuaggaJS Initialization Error:",e),"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?this.showError("Camera access was denied. Please allow camera permissions."):"NotReadableError"===e.name||"TrackStartError"===e.name?this.showError("The camera is currently in use by another application. Please close it and try again."):this.showError("Unable to access the camera. Please try again later."),void("modal"===this.cameraMode&&(this.showModal=!1));M().start(),this.isScannerRunning=!0,console.log("QuaggaJS started");const r=this.$refs.scannerContainer.querySelector("video");this.cameraStream=r?r.srcObject:null})),M().onDetected((e=>{this.scannedResult=e.codeResult.code,console.log("Detected code:",e.codeResult.code)}))},startScanner(){this.isScannerRunning||("modal"===this.cameraMode?(this.showModal=!0,this.$nextTick((()=>{this.initScanner()}))):this.initScanner())},stopScanner(){this.isScannerRunning&&(M().stop(),"inline"===this.cameraMode?this.$refs.scannerContainer.innerHTML="":"modal"===this.cameraMode&&(this.showModal=!1),this.cameraStream&&(this.cameraStream.getTracks().forEach((e=>e.stop())),this.cameraStream=null),M().offDetected(),this.isScannerRunning=!1,console.log("QuaggaJS stopped"),this.errorTimer&&(clearTimeout(this.errorTimer),this.errorTimer=null),this.errorMessage="")},toggleScanner(){"inline"===this.cameraMode&&(this.isScannerRunning?this.stopScanner():this.startScanner())}},beforeUnmount(){this.isScannerRunning&&this.stopScanner(),this.errorTimer&&(clearTimeout(this.errorTimer),this.errorTimer=null)}},C=n(1241);const y=(0,C.A)(T,[["render",b],["__scopeId","data-v-e7df0056"]]);var w=y,L={name:"App",components:{CameraScanner:w}};const R=(0,C.A)(L,[["render",i]]);var _=R;(0,a.Ef)(_).mount("#app")}},r={};function n(a){var t=r[a];if(void 0!==t)return t.exports;var o=r[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(r,a,t,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],t=e[d][1],o=e[d][2];for(var s=!0,c=0;c<a.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var l=t();void 0!==l&&(r=l)}}return r}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,t,o]}}(),function(){n.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(r,{a:r}),r}}(),function(){n.d=function(e,r){for(var a in r)n.o(r,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={524:0};n.O.j=function(r){return 0===e[r]};var r=function(r,a){var t,o,i=a[0],s=a[1],c=a[2],l=0;if(i.some((function(r){return 0!==e[r]}))){for(t in s)n.o(s,t)&&(n.m[t]=s[t]);if(c)var d=c(n)}for(r&&r(a);l<i.length;l++)o=i[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkmy_scanner_app"]=self["webpackChunkmy_scanner_app"]||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(9304)}));a=n.O(a)})();
//# sourceMappingURL=app.8f412d27.js.map